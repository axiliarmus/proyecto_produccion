{% extends 'admin_layout.html' %}

{% block title %}Boxes{% endblock %}
{% block header_title %}Gestión de Boxes{% endblock %}
{% block header_subtitle %}Configura las estaciones de trabajo{% endblock %}

{% block content %}

<div class="d-flex justify-content-end mb-4">
  <a href="{{ url_for('boxes_nuevo_form') }}" class="btn btn-accent d-flex align-items-center gap-2">
    <i class='bx bx-plus-circle'></i> Nuevo Box
  </a>
</div>

<div class="admin-card">
  <div class="table-responsive">
    <table class="table table-dark table-hover align-middle mb-0" style="background: transparent;">
      <thead>
        <tr>
          <th>Código</th>
          <th>Descripción</th>
          <th class="text-end">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for b in boxes %}
        <tr>
          <td class="fw-bold text-white">{{ b.codigo }}</td>
          <td>{{ b.descripcion }}</td>
          <td class="text-end">
            <a href="{{ url_for('boxes_editar_form', id=b._id) }}" class="btn btn-ghost-warning d-inline-flex align-items-center gap-1">
              <i class='bx bx-edit-alt'></i> Editar
            </a>
            <form action="{{ url_for('boxes_delete', id=b._id) }}" method="post" class="d-inline">
              <input type="hidden" name="_csrf_token" value="{{ csrf_token }}">
              <button class="btn btn-ghost-danger d-inline-flex align-items-center gap-1" onclick="return confirm('¿Eliminar este box?')">
                <i class='bx bx-trash'></i> Eliminar
              </button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% if boxes|length == 0 %}
    <div class="p-4 text-center text-secondary">No hay boxes registrados aún.</div>
  {% endif %}
</div>

{% endblock %}