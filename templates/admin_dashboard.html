{% extends 'base.html' %}
{% block title %}Panel de Administraci√≥n{% endblock %}
{% block content %}

<h2 class="mb-4 text-center">Panel de Administraci√≥n</h2>

<!-- Primera fila: Gesti√≥n principal -->
<div class="row g-4 mb-4 justify-content-center">
  <!-- Usuarios -->
  <div class="col-md-3">
    <div class="card bg-dark border-light shadow text-center">
      <div class="card-body">
        <h5 class="card-title text-light">üë§ Usuarios</h5>
        <p class="text-secondary mb-2">Administra los usuarios del sistema y sus roles.</p>
        <p class="display-6 text-white fw-bold">{{ total_usuarios }}</p>
        <a href="{{ url_for('usuarios_list') }}" class="btn btn-accent w-100 mt-2">Gestionar Usuarios</a>
      </div>
    </div>
  </div>

  <!-- Boxes -->
  <div class="col-md-3">
    <div class="card bg-dark border-light shadow text-center">
      <div class="card-body">
        <h5 class="card-title text-light">üß∞ Boxes</h5>
        <p class="text-secondary mb-2">Crea y edita los boxes disponibles para producci√≥n.</p>
        <p class="display-6 text-white fw-bold">{{ total_boxes }}</p>
        <a href="{{ url_for('boxes_list') }}" class="btn btn-accent w-100 mt-2">Gestionar Boxes</a>
      </div>
    </div>
  </div>

  <!-- Piezas -->
  <div class="col-md-3">
    <div class="card bg-dark border-light shadow text-center">
      <div class="card-body">
        <h5 class="card-title text-light">üß© Piezas</h5>
        <p class="text-secondary mb-2">Define los tipos de piezas, marcos y tramos.</p>
        <p class="display-6 text-white fw-bold">{{ total_piezas }}</p>
        <a href="{{ url_for('piezas_list') }}" class="btn btn-accent w-100 mt-2">Gestionar Piezas</a>
      </div>
    </div>
  </div>
</div>

<!-- Segunda fila: Informes -->
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card bg-dark border-light shadow-lg text-center">
      <div class="card-body">
        <h4 class="card-title text-light mb-3">üìä Informes</h4>
        <p class="text-secondary">
          Accede a reportes detallados de horarios, producci√≥n de piezas y rendimiento por operador.
        </p>
        <p class="display-6 text-white fw-bold">{{ total_produccion }}</p>
        <a href="{{ url_for('admin_informes') }}" class="btn btn-accent mt-2 px-4">Ver Informes del Sistema</a>
      </div>
    </div>
  </div>
</div>

<!-- Secci√≥n: Archivados y Corte -->
<div class="row justify-content-center mt-4">
  <div class="col-md-8">
    <div class="card bg-dark border-light shadow-lg">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4 class="card-title text-light mb-0">üóÑÔ∏è Producci√≥n Archivada</h4>
          <a href="{{ url_for('admin_archivados_menu') }}" class="btn btn-accent">Ver Archivados</a>
        </div>
        <hr class="border-secondary">
        <h5 class="text-light mb-3">‚úÇ Corte Avanzado</h5>
        <form method="post" action="{{ url_for('admin_corte_mensual') }}" class="row g-3">
          <div class="col-12">
            <label class="form-label text-light">Nombre del Corte (Opcional)</label>
            <input type="text" name="nombre" class="form-control" placeholder="Ej: Enero 2026 - Especial">
          </div>
          <div class="col-md-6">
            <label class="form-label text-light">Fecha inicio</label>
            <input type="date" name="fecha_inicio" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label text-light">Fecha fin</label>
            <input type="date" name="fecha_fin" class="form-control" required>
          </div>
          <div class="col-md-12">
            <button class="btn btn-danger w-100">Confirmar Corte</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock %}
